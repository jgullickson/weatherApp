(this["webpackJsonpweather-wizard"]=this["webpackJsonpweather-wizard"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/magic-wand.f4080908.svg"},22:function(e,t,a){e.exports=a.p+"static/media/high_arrow.e0a01615.svg"},23:function(e,t,a){e.exports=a.p+"static/media/low_arrow.37c2dbc7.svg"},24:function(e,t,a){e.exports=a.p+"static/media/raindrop.ed776451.svg"},25:function(e,t,a){e.exports=a.p+"static/media/wind.e6649c74.svg"},26:function(e,t,a){e.exports=a.p+"static/media/humidity.895ad6bd.svg"},28:function(e,t,a){e.exports=a(42)},33:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),c=a.n(i),o=(a(33),a(2)),s=a(3),l=a(5),m=a(4),u=a(6),p=a(1),d=a(10),h=a.n(d),E=a(17),f=a(9),v=a.n(f),g=function(e,t){return{type:"RECEIVE_DATA",data:e,query:t}},y=function(){return function(){var e=Object(E.a)(h.a.mark((function e(t,a){var n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_DATA"}),n=a(),r=n.last_query,e.next=4,fetch(r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}));case 4:(i=e.sent)&&i.error?(console.log(i.error),v.a.fire({title:"Oops!",icon:"error",html:"<br>".concat(i.error.message,"\n                    <br>ERROR CODE: ").concat(i.error.code)}),t({type:"TOGGLE_SPINNER"})):t(g(i,r));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},b=a(7),N=a.n(b),w=a(21),O=a.n(w),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){N.a.AutoInit()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"app-header",className:"z-depth-1"},r.a.createElement("div",{id:"header-content-wrapper"},r.a.createElement("div",{id:"logo-div",className:""},r.a.createElement("a",{href:"./index.html",className:"grey-text text-lighten-5"},r.a.createElement("h1",{id:"name"},"weather",r.a.createElement("span",{id:"wizard"},"wizard"),r.a.createElement("img",{src:O.a,id:"logo",alt:"logo"})))),r.a.createElement("div",{className:"switch",id:"unit-switch"},r.a.createElement("label",null,"\xb0F",r.a.createElement("input",{type:"checkbox",onChange:function(){return e.props.toggleUnits()}}),r.a.createElement("span",{className:"lever"}),"\xb0C"))))}}]),t}(r.a.Component),_=Object(p.b)(null,(function(e){return{toggleUnits:function(){return e({type:"TOGGLE_UNITS"})}}}))(j),k=a(18),x=a.n(k),T=a(22),C=a.n(T),F=a(23),A=a.n(F),G=a(24),R=a.n(G),S=a(25),D=a.n(S),L=a(26),I=a.n(L),U=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){N.a.AutoInit()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"forecast-container",className:this.props.cols},this.props.forecast.forecastday&&this.props.forecast.forecastday.filter((function(e,t){return 0!==t})).map((function(t,a){return r.a.createElement("div",{key:a,className:"day card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title activator"},r.a.createElement("i",{className:"material-icons right"},"keyboard_arrow_down")),r.a.createElement("div",null,x()(t.date).format("ddd")),r.a.createElement("div",null,x()(t.date).format("MM/DD")),r.a.createElement("div",null,r.a.createElement("img",{src:t.day.condition.icon,alt:"".concat(t.day.condition.text," icon")})),r.a.createElement("div",{className:"temp"},"imperial"===e.props.units?t.day.avgtemp_f:t.day.avgtemp_c,"\xb0","imperial"===e.props.units?"F":"C"),r.a.createElement("div",null,t.day.condition.text)),r.a.createElement("div",{className:"card-reveal"},r.a.createElement("ul",{className:"collection"},r.a.createElement("li",{className:"collection-item"},r.a.createElement("span",{className:"label"},r.a.createElement("img",{src:C.a,alt:"high"})),"imperial"===e.props.units?t.day.maxtemp_f:t.day.maxtemp_c,"\xb0","imperial"===e.props.units?"F":"C"),r.a.createElement("li",{className:"collection-item"},r.a.createElement("span",{className:"label"},r.a.createElement("img",{src:A.a,alt:"low"})),"imperial"===e.props.units?t.day.mintemp_f:t.day.mintemp_c,"\xb0","imperial"===e.props.units?"F":"C"),r.a.createElement("li",{className:"collection-item"},r.a.createElement("span",{className:"label"},r.a.createElement("img",{src:I.a,alt:"humidity"})),t.day.avghumidity+"%"),r.a.createElement("li",{className:"collection-item"},r.a.createElement("span",{className:"label"},r.a.createElement("img",{src:R.a,alt:"precipitation"})),"imperial"===e.props.units?t.day.totalprecip_in:t.day.totalprecip_mm,"imperial"===e.props.units?"in":"mm"),r.a.createElement("li",{className:"collection-item"},r.a.createElement("span",{className:"label"},r.a.createElement("img",{src:D.a,alt:"wind"})),"imperial"===e.props.units?t.day.maxwind_mph:t.day.mapwind_kph,"imperial"===e.props.units?"mph":"kph"),r.a.createElement("li",{className:"collection-item"},r.a.createElement("span",{className:"label uv"},"UV"),t.day.uv)),r.a.createElement("span",{className:"card-title grey-text text-darken-4"},r.a.createElement("i",{className:"material-icons right"},"close"))))})))}}]),t}(r.a.Component),W=Object(p.b)((function(e){var t=e.units;return{forecast:e.data.forecast,units:t}}))(U),M=a(12),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(M.a)(a)),a.state={editorText:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){N.a.AutoInit(),this.props.getWeatherByGeoLocation()}},{key:"handleChange",value:function(e){this.setState({editorText:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"control-container",className:this.props.cols},r.a.createElement("div",{className:"input-field"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"location"},"Enter Location"),r.a.createElement("input",{type:"text",name:"location",id:"location",value:this.state.editorText,onChange:this.handleChange,className:"col s12"}),r.a.createElement("button",{id:"search-btn",onClick:function(){""===e.state.editorText?v.a.fire({title:"Where now?",text:"Please specify a location.",icon:"question"}):(e.props.getWeatherByManualLocation(e.state.editorText),e.setState({editorText:""}))}},"Search ",r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("button",{id:"geo-btn",onClick:function(){return e.props.getWeatherByGeoLocation()}},"My Location ",r.a.createElement("i",{className:"material-icons"},"gps_fixed"))))}}]),t}(r.a.Component),B=Object(p.b)((function(e){return{data:e.data,units:e.units,mode:e.mode,isFetching:e.isFetching}}),(function(e){return{toggleUnits:function(){return e({type:"TOGGLE_UNITS"})},getWeatherByManualLocation:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return(function(){var a=Object(E.a)(h.a.mark((function a(n,r){var i,c,o,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"REQUEST_DATA"}),i=r(),c=i.key,o="https://api.weatherapi.com/v1/forecast.json?key=".concat(c,"&q=").concat(e,"&days=").concat(t),a.next=5,fetch(o).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}));case 5:(s=a.sent)&&s.error?(console.log(s.error),v.a.fire({title:"Oops!",icon:"error",html:'You searched for <b>"'.concat(e,'"</b>.\n                    <br>').concat(s.error.message,"\n                    <br>Please check spelling or try another location.\n                    <br>ERROR CODE: ").concat(s.error.code)}),n({type:"TOGGLE_SPINNER"})):n(g(s,o));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}(t))},getWeatherByGeoLocation:function(){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return function(t,a){t({type:"REQUEST_DATA"});navigator.geolocation.getCurrentPosition((function(n){var r=n.coords,i=r.latitude,c=r.longitude,o=a().key;console.log("lat: ".concat(i,", lon: ").concat(c));var s="https://api.weatherapi.com/v1/forecast.json?key=".concat(o,"&q=").concat(i,",").concat(c,"&days=").concat(e);fetch(s).then((function(e){return e.json()})).then((function(e){t(g(e,s)),console.log(a())}))}),(function(e){return console.warn("Error: ".concat(e.code,": ").concat(e.message))}),{enableHighAccuracy:!0})}}())},refresh:function(){return e(y())}}}))(q),P=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"weather-component-container",className:"section"},this.props.isFetching?r.a.createElement("div",{id:"spinner-container"},r.a.createElement("div",{id:"fetchSpinner"})):null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"display-container",className:"col s12 m6"},this.props.data.location&&this.props.data.current&&r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{id:"location-container"},r.a.createElement("h2",{id:"location-title"},this.props.data.location.name),r.a.createElement("span",{id:"location-region"},this.props.data.location.region,","," "),r.a.createElement("span",{id:"location-country"},this.props.data.location.country)),r.a.createElement("div",{id:"weather-container"},r.a.createElement("div",{className:"condition-summary"},r.a.createElement("img",{id:"weather-icon",src:this.props.data.current.condition.icon,alt:"".concat(this.props.data.current.condition.text," icon")}),r.a.createElement("div",null,r.a.createElement("div",{id:"weather-condition"},this.props.data.current.condition.text),r.a.createElement("div",{id:"temp"},"imperial"===this.props.units&&this.props.data.current.temp_f,"imperial"===this.props.units&&r.a.createElement("span",null,"\xb0F"),"metric"===this.props.units&&this.props.data.current.temp_c,"metric"===this.props.units&&r.a.createElement("span",null,"\xb0C")))),r.a.createElement("div",{className:"condition-details"},r.a.createElement("ul",{id:"weather-condition",className:""},r.a.createElement("li",{id:"feel",className:""},r.a.createElement("span",{className:"label"},"Feels like: "),"imperial"===this.props.units&&this.props.data.current.feelslike_f,"imperial"===this.props.units&&r.a.createElement("span",null,"\xb0F"),"metric"===this.props.units&&this.props.data.current.feelslike_c,"metric"===this.props.units&&r.a.createElement("span",null,"\xb0C")),r.a.createElement("li",{id:"wind",className:""},r.a.createElement("span",{className:"label"},"Wind: "),"imperial"===this.props.units&&this.props.data.current.wind_mph+" mph ","metric"===this.props.units&&this.props.data.current.wind_kph+" kph ",r.a.createElement("span",null,this.props.data.current.wind_dir)),r.a.createElement("li",{id:"uv",className:""},r.a.createElement("span",{className:"label"},"UV index: "),this.props.data.current.uv))))),r.a.createElement("button",{id:"refresh-btn",onClick:function(){return e.props.refresh()}},r.a.createElement("i",{className:"material-icons"},"refresh"))),r.a.createElement(B,{cols:"col s12 m6"})),r.a.createElement(W,{cols:"col s12"}))}}]),t}(r.a.Component),z=Object(p.b)((function(e){return{data:e.data,units:e.units,mode:e.mode,isFetching:e.isFetching}}),(function(e){return{refresh:function(){return e(y())}}}))(P);a(41);var Q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement("div",{className:"app-container"},r.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(8),J=a(27),H={key:"6fa2ee15e2da46c3b7c184521202002",units:"imperial",mode:"geo",isFetching:!1,data:{forecast:{}}},Y=Object(V.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_UNITS":return Object.assign({},e,{units:"imperial"===e.units?"metric":"imperial"});case"REQUEST_DATA":return Object.assign({},e,{isFetching:!0});case"RECEIVE_DATA":return console.log("receiving data"),Object.assign({},e,{isFetching:!1,data:t.data,last_query:t.query});case"TOGGLE_SPINNER":return Object.assign({},e,{isFetching:!e.isFetching});default:return e}}),Object(V.a)(J.a));c.a.render(r.a.createElement(p.a,{store:Y},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.66b7d5bb.chunk.js.map